# æ•°æ®æŠ“å–ç³»ç»Ÿ

è¿™æ˜¯ä¸€ä¸ªç»Ÿä¸€çš„è‚¡ç¥¨æ•°æ®æŠ“å–ç³»ç»Ÿï¼Œæ”¯æŒä»å¤šä¸ªæ•°æ®æºè·å–Aè‚¡å’Œç¾è‚¡çš„å†å²Kçº¿æ•°æ®ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸŒ **å¤šæ•°æ®æºæ”¯æŒ**ï¼šYahoo Financeã€AkShareã€Tushare
- ğŸ“ˆ **å¤šå¸‚åœºè¦†ç›–**ï¼šAè‚¡ã€ç¾è‚¡ã€æ¸¯è‚¡ç­‰
- ğŸ”„ **ç»Ÿä¸€æ•°æ®æ ¼å¼**ï¼šæ ‡å‡†åŒ–çš„CSVè¾“å‡ºæ ¼å¼
- ğŸ“ **è‡ªåŠ¨æ–‡ä»¶ç®¡ç†**ï¼šæŒ‰æ•°æ®æºå’Œæ—¥æœŸåˆ†ç±»å­˜å‚¨
- ğŸ” **è‚¡ç¥¨æœç´¢**ï¼šæ”¯æŒä»£ç å’Œåç§°æœç´¢
- âš¡ **æ‰¹é‡æŠ“å–**ï¼šæ”¯æŒæ‰¹é‡è·å–å¤šåªè‚¡ç¥¨æ•°æ®
- ğŸ›¡ï¸ **é”™è¯¯å¤„ç†**ï¼šå®Œå–„çš„å¼‚å¸¸å¤„ç†å’Œæ—¥å¿—è®°å½•

## æ”¯æŒçš„æ•°æ®æº

### 1. AkShareï¼ˆæ¨èï¼‰
- **Aè‚¡æ•°æ®**ï¼šæ”¯æŒæ²ªæ·±ä¸¤å¸‚æ‰€æœ‰è‚¡ç¥¨
- **ç¾è‚¡æ•°æ®**ï¼šæ”¯æŒçº³æ–¯è¾¾å…‹ã€çº½äº¤æ‰€ç­‰ä¸»è¦ç¾è‚¡
- **ä¸­æ¦‚è‚¡**ï¼šæ”¯æŒåœ¨ç¾ä¸Šå¸‚çš„ä¸­å›½å…¬å¸è‚¡ç¥¨
- **æ•°æ®è´¨é‡**ï¼šé«˜è´¨é‡çš„å®æ—¶æ•°æ®
- **ä½¿ç”¨é™åˆ¶**ï¼šå…è´¹ä½¿ç”¨ï¼Œæœ‰ä¸€å®šçš„è®¿é—®é¢‘ç‡é™åˆ¶

### 2. Yahoo Finance
- **ç¾è‚¡æ•°æ®**ï¼šå…¨é¢çš„ç¾è‚¡å¸‚åœºæ•°æ®
- **å›½é™…å¸‚åœº**ï¼šæ”¯æŒå…¨çƒä¸»è¦è‚¡ç¥¨å¸‚åœº
- **æ•°æ®å†å²**ï¼šé•¿æœŸå†å²æ•°æ®
- **ä½¿ç”¨é™åˆ¶**ï¼šå…è´¹ä½¿ç”¨ï¼Œå¯èƒ½æœ‰è®¿é—®é¢‘ç‡é™åˆ¶

### 3. Tushare
- **Aè‚¡æ•°æ®**ï¼šä¸“ä¸šçš„Aè‚¡æ•°æ®æœåŠ¡
- **åŸºæœ¬é¢æ•°æ®**ï¼šè´¢åŠ¡æ•°æ®ã€å…¬å¸ä¿¡æ¯ç­‰
- **ä½¿ç”¨é™åˆ¶**ï¼šéœ€è¦æ³¨å†Œè·å–tokenï¼Œæœ‰ç§¯åˆ†é™åˆ¶

## æ•°æ®æ ¼å¼

æ‰€æœ‰æ•°æ®æºçš„è¾“å‡ºéƒ½ç»Ÿä¸€ä¸ºä»¥ä¸‹æ ¼å¼ï¼š

```csv
date,open,high,low,close,volume,adj_close
2024-04-01,170.03,171.25,169.48,170.03,46240500,170.03
2024-04-02,168.84,169.34,168.23,168.84,49329481,168.84
```

å­—æ®µè¯´æ˜ï¼š
- `date`: äº¤æ˜“æ—¥æœŸ (YYYY-MM-DD)
- `open`: å¼€ç›˜ä»·
- `high`: æœ€é«˜ä»·
- `low`: æœ€ä½ä»·
- `close`: æ”¶ç›˜ä»·
- `volume`: æˆäº¤é‡
- `adj_close`: è°ƒæ•´åæ”¶ç›˜ä»·

## æ–‡ä»¶å­˜å‚¨ç»“æ„

æ•°æ®ä¼šè‡ªåŠ¨ä¿å­˜åˆ°é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ `data/raw/` æ–‡ä»¶å¤¹ä¸­ï¼ŒæŒ‰ç…§ä»¥ä¸‹ç»“æ„ç»„ç»‡ï¼š

```
data/raw/
â”œâ”€â”€ akshare/
â”‚   â””â”€â”€ 20250529/
â”‚       â”œâ”€â”€ 600519.csv    # Aè‚¡ï¼šè´µå·èŒ…å°
â”‚       â”œâ”€â”€ AAPL.csv      # ç¾è‚¡ï¼šè‹¹æœå…¬å¸
â”‚       â””â”€â”€ BABA.csv      # ä¸­æ¦‚è‚¡ï¼šé˜¿é‡Œå·´å·´
â”œâ”€â”€ yahoo/
â”‚   â””â”€â”€ 20250529/
â”‚       â””â”€â”€ AAPL.csv
â””â”€â”€ tushare/
    â””â”€â”€ 20250529/
        â””â”€â”€ 600519.csv
```

**æ³¨æ„**ï¼šæ— è®ºä»å“ªä¸ªç›®å½•æ‰§è¡Œè„šæœ¬ï¼Œæ•°æ®éƒ½ä¼šä¿å­˜åˆ°é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ `data/raw/` æ–‡ä»¶å¤¹ä¸­ï¼Œä¸ä¼šåœ¨å½“å‰æ‰§è¡Œç›®å½•ä¸‹åˆ›å»ºæ–‡ä»¶ã€‚

## å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
pip install akshare yfinance tushare pandas
```

### 2. åŸºæœ¬ä½¿ç”¨

```python
from src.analysis.data_manager import DataManager

# åˆå§‹åŒ–æ•°æ®ç®¡ç†å™¨
manager = DataManager()

# æŠ“å–Aè‚¡æ•°æ®
file_path = manager.fetch_stock_data('akshare', '600519', 
                                   start_date='2024-01-01', 
                                   end_date='2024-12-31')

# æŠ“å–ç¾è‚¡æ•°æ®
file_path = manager.fetch_stock_data('akshare', 'AAPL', 
                                   start_date='2024-01-01', 
                                   end_date='2024-12-31')

# æŠ“å–ä¸­æ¦‚è‚¡æ•°æ®
file_path = manager.fetch_stock_data('akshare', 'BABA', 
                                   start_date='2024-01-01', 
                                   end_date='2024-12-31')
```

### 3. æ‰¹é‡æŠ“å–

```python
# æ‰¹é‡æŠ“å–å¤šåªè‚¡ç¥¨ï¼ˆAè‚¡+ç¾è‚¡ï¼‰
symbols = ['600519', 'AAPL', 'TSLA', '000858', 'MSFT']
results = manager.batch_fetch('akshare', symbols, 
                            start_date='2024-01-01', 
                            end_date='2024-12-31')

for symbol, file_path in results.items():
    if file_path:
        print(f"âœ… {symbol}: {file_path}")
    else:
        print(f"âŒ {symbol}: æŠ“å–å¤±è´¥")
```

### 4. è‚¡ç¥¨æœç´¢

```python
# æœç´¢Aè‚¡
a_stocks = manager.search_stocks('akshare', 'èŒ…å°')

# æœç´¢ç¾è‚¡
us_stocks = manager.search_stocks('akshare', 'Apple')

# è·å–è‚¡ç¥¨åˆ—è¡¨
stock_list = manager.get_stock_list('akshare')
```

## AkShareç¾è‚¡æ”¯æŒè¯¦æƒ…

AkShareæ•°æ®æºç°å·²å…¨é¢æ”¯æŒç¾è‚¡æ•°æ®æŠ“å–ï¼š

### æ”¯æŒçš„ç¾è‚¡ç±»å‹
- **ä¸»æ¿ç¾è‚¡**ï¼šAAPLã€MSFTã€GOOGLã€AMZNç­‰
- **ä¸­æ¦‚è‚¡**ï¼šBABAã€JDã€PDDã€BIDUç­‰
- **æ–°èƒ½æºè½¦**ï¼šTSLAã€NIOã€XPEVã€LIç­‰
- **ç§‘æŠ€è‚¡**ï¼šMETAã€NVDAã€NFLXç­‰

### ä½¿ç”¨ç¤ºä¾‹

```python
from src.analysis.data_manager import DataManager

manager = DataManager()

# æŠ“å–è‹¹æœå…¬å¸æ•°æ®
apple_data = manager.fetch_stock_data('akshare', 'AAPL', 
                                    start_date='2024-01-01', 
                                    end_date='2024-12-31')

# æŠ“å–ç‰¹æ–¯æ‹‰æ•°æ®
tesla_data = manager.fetch_stock_data('akshare', 'TSLA', 
                                    start_date='2024-01-01', 
                                    end_date='2024-12-31')

# æŠ“å–é˜¿é‡Œå·´å·´æ•°æ®
baba_data = manager.fetch_stock_data('akshare', 'BABA', 
                                   start_date='2024-01-01', 
                                   end_date='2024-12-31')
```

### è‚¡ç¥¨ä»£ç è¯†åˆ«
ç³»ç»Ÿä¼šè‡ªåŠ¨è¯†åˆ«è‚¡ç¥¨ä»£ç ç±»å‹ï¼š
- **Aè‚¡ä»£ç **ï¼š6ä½æ•°å­—ï¼ˆå¦‚ï¼š600519ï¼‰
- **ç¾è‚¡ä»£ç **ï¼šå­—æ¯ç»„åˆï¼ˆå¦‚ï¼šAAPLã€TSLAï¼‰

### å¸¸ç”¨ç¾è‚¡åˆ—è¡¨
ç³»ç»Ÿå†…ç½®äº†20åªå¸¸ç”¨ç¾è‚¡ï¼š
- AAPL (Apple Inc.)
- MSFT (Microsoft Corporation)
- GOOGL (Alphabet Inc.)
- AMZN (Amazon.com Inc.)
- TSLA (Tesla Inc.)
- META (Meta Platforms Inc.)
- NVDA (NVIDIA Corporation)
- NFLX (Netflix Inc.)
- BABA (Alibaba Group Holding Limited)
- JD (JD.com Inc.)
- ç­‰ç­‰...

## è¿è¡Œç¤ºä¾‹

```bash
# è¿è¡Œå®Œæ•´ç¤ºä¾‹
python src/analysis/examples/fetch_data_example.py
```

ç¤ºä¾‹å°†æ¼”ç¤ºï¼š
1. Aè‚¡æ•°æ®æŠ“å–ï¼ˆè´µå·èŒ…å°ï¼‰
2. ç¾è‚¡æ•°æ®æŠ“å–ï¼ˆè‹¹æœå…¬å¸ï¼‰
3. ä¸­æ¦‚è‚¡æ•°æ®æŠ“å–ï¼ˆé˜¿é‡Œå·´å·´ï¼‰
4. è‚¡ç¥¨æœç´¢åŠŸèƒ½
5. æ‰¹é‡æ•°æ®æŠ“å–
6. æŒ‰å¸‚åœºåˆ†ç±»çš„è‚¡ç¥¨åˆ—è¡¨

## æ³¨æ„äº‹é¡¹

1. **ç½‘ç»œè¿æ¥**ï¼šç¡®ä¿ç½‘ç»œè¿æ¥ç¨³å®š
2. **è®¿é—®é¢‘ç‡**ï¼šé¿å…è¿‡äºé¢‘ç¹çš„è¯·æ±‚ï¼Œå»ºè®®é—´éš”1-2ç§’
3. **æ•°æ®è´¨é‡**ï¼šä¸åŒæ•°æ®æºçš„æ•°æ®è´¨é‡å’Œæ›´æ–°é¢‘ç‡å¯èƒ½ä¸åŒ
4. **å­˜å‚¨ç©ºé—´**ï¼šé•¿æœŸå†å²æ•°æ®å¯èƒ½å ç”¨è¾ƒå¤§å­˜å‚¨ç©ºé—´
5. **åˆè§„ä½¿ç”¨**ï¼šè¯·éµå®ˆå„æ•°æ®æºçš„ä½¿ç”¨æ¡æ¬¾

## é”™è¯¯å¤„ç†

ç³»ç»Ÿå…·æœ‰å®Œå–„çš„é”™è¯¯å¤„ç†æœºåˆ¶ï¼š
- ç½‘ç»œè¿æ¥é”™è¯¯è‡ªåŠ¨é‡è¯•
- æ•°æ®æ ¼å¼å¼‚å¸¸è‡ªåŠ¨å¤„ç†
- è¯¦ç»†çš„æ—¥å¿—è®°å½•ä¾¿äºè°ƒè¯•
- ä¼˜é›…çš„é”™è¯¯é™çº§å¤„ç†

## æ‰©å±•å¼€å‘

å¦‚éœ€æ·»åŠ æ–°çš„æ•°æ®æºï¼Œè¯·ï¼š
1. ç»§æ‰¿ `DataFetcher` åŸºç±»
2. å®ç°å¿…è¦çš„æŠ½è±¡æ–¹æ³•
3. åœ¨ `DataManager` ä¸­æ³¨å†Œæ–°æ•°æ®æº

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚ 